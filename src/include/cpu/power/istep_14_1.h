/* SPDX-License-Identifier: GPL-2.0-only */

#include <cpu/power/scom.h>

void memDiag(void);
void istep_14_1(void);

memdiagTargets[] = {MC01_CHIPLET_ID, MC23_CHIPLET_ID};
unsigned int memdiagTargetsSize = sizeof memdiagTargets / sizeof memdiagTargets[0];

#define FIR_MASK (0x7010903)
#define MBACALFIR_ACTION0 (0x7010906)
#define MBACALFIR_ACTION1 (0x7010907)
#define DSM0Q_REG (0x701090A)
#define WRQ0Q_REG (0x701090D)
#define RRQ0Q_REG (0x701090E)
#define MBA_FARB0Q (0x7010913)
#define MCA_MBACALFIRQ (0x7010940)
#define MCA_FIR (0x7010A00)
#define MBACALFIR_MASK (0x7010A03)
#define FIR_ACTION0 (0x7010A06)
#define FIR_ACTION1 (0x7010A07)
#define MCA_ACTION1 (0x7010A07)
#define ECC_REG (0x7010A0A)
#define FIRQ_REG (0x7012300)
#define MCBIST_MCBISTFIRACT1 (0x7012307)
#define SRERR0_REG (0x7012355)
#define SRERR1_REG (0x7012356)
#define THRESHOLD_REG (0x7012357)
#define MCBSTATQ_REG (0x7012366)
#define MCBMR0_REG (0x70123A8)
#define MCBMR1_REG (0x70123A9)
#define MCBMR2_REG (0x70123AA)
#define MCBMR3_REG (0x70123AB)
#define MCBMR4_REG (0x70123AC)
#define MCBMR5_REG (0x70123AD)
#define MCBMR6_REG (0x70123AE)
#define MCBPARMQ_REG (0x70123AF)
#define DATA_ROTATE_SEED_REG (0x70123BC)
#define DATA_ROTATE_CNFG_REG (0x70123BD)
#define MCBAMR0A0Q_REG (0x70123C8)
#define MCBAMR1A0Q_REG (0x70123C9)
#define MCBAMR2A0Q_REG (0x70123CA)
#define MCBAMR3A0Q_REG (0x70123CB)
#define MCBAGRAQ_REG (0x70123D6)
#define CNTLQ_REG (0x70123DB)
#define MCBMR7_REG (0x70123DF)
#define CFGQ_REG (0x70123E0)

#define CFG_ENABLE_SPEC_ATTN PPC_BIT(62)
#define CFG_ENABLE_HOST_ATTN PPC_BIT(63)

#define RRQ_FIFO_MODE PPC_BIT(6)
#define WRQ_FIFO_MODE PPC_BIT(5)

#define MCBIST_START PPC_BIT(0)

#define RECR_ENABLE_UE_NOISE_WINDOW PPC_BIT(26)
#define MCA_FIR_MAINLINE_AUE    PPC_BIT(13)
#define MCA_FIR_MAINLINE_UE     PPC_BIT(14)
#define MCA_FIR_MAINLINE_IAUE   PPC_BIT(16)
#define MCA_FIR_MAINLINE_IUE    PPC_BIT(17)
#define MCA_MBACALFIRQ_PORT_FAIL PPC_BIT(13)
#define MCA_FIR_MAINLINE_RCD    PPC_BIT(15)
#define MCA_FIR_MAINTENANCE_IUE PPC_BIT(37)

#define MBA_RRQ0Q_CFG_RRQ_FIFO_MODE PPC_BIT(6)
#define MBA_WRQ0Q_CFG_WRQ_FIFO_MODE PPC_BIT(5)

#define MCBIST_MCBISTFIRQ_MCBIST_BRODCAST_OUT_OF_SYNC PPC_BIT(3)

#define PORT_OFFSET (6)
#define CHIP_EC (0x20)

#define MAX_RANK_PER_DIMM_ATTR (4)
